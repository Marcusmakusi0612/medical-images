# medical-images
mamba for seg
##CGLA-Mamba:A lightweight Global-Local Attention Model with Depthwise Convolution for 3D Medical image Segmentation

Please take the following order to run the codes:


1.prepare your own data:

your raw data(.nii.gz) should be put in the following structure:
--Data
    --Rawdata
        --Training data
            --case0
                --mask0.nii.gz
                --case0.nii.ge
            --case1
                --mask1.nii.gz
                --case1.nii.ge
            --case2
                --mask2.nii.gz
                --case2.nii.ge
            .......
        --Validation data
            --case155
                --mask155.nii.gz
                --case155.nii.ge
            --case156
                --mask156.nii.gz
                --case156.nii.ge
            --case157
                --mask157.nii.gz
                --case157.nii.ge
            .......

rename your own datasets to t.nii.gz and seg.nii.gz format using rename.py
2.run preprocessing.py to transfer the format of your data to .npz and .kpl for the next step
3.start train using train.py
4.load the best model which is generated by train, then using testset for test(with mask) (get DSC )
5.strat validating:
    processing your own valset, using preprocess_val.py(without mask)
5.run val.py
 Then you can get the predicted mask.nii.gz only using case.nii.gz 
6.using 3Dslicer to open the predicted mask.nii.gz and case.nii.gz to show the results.
